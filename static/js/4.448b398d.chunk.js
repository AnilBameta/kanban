"use strict";(self.webpackChunkkan_ban_board=self.webpackChunkkan_ban_board||[]).push([[4],{623:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var n=s(43);const o="https://dummyjson.com/todos";var a=s(734),r=s(579);function d(e){let{todo:t,status:s,onUpdate:o,onDelete:d}=e;const[{isDragging:i},l]=(0,a.i)((()=>({type:"TODO",item:{id:t.id},collect:e=>({isDragging:e.isDragging()})})),[t.id]),[c,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(t.todo);return(0,r.jsxs)("div",{ref:l,className:"bg-white p-3 rounded shadow flex justify-between items-start transition-transform duration-200 ease-in-out "+(i?"scale-95 opacity-50":"hover:scale-[1.02]"),children:[(0,r.jsxs)("div",{className:"flex-1",children:[c?(0,r.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),onBlur:()=>{m.trim()&&(o(t.id,{todo:m}),u(!1))},className:"w-full border px-2 py-1 rounded text-sm text-gray-800",autoFocus:!0}):(0,r.jsx)("p",{className:"font-medium text-gray-800 cursor-pointer",onClick:()=>{u(!0)},title:"Click to edit",children:t.todo}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",s]})]}),(0,r.jsxs)("div",{className:"space-x-2 text-sm",children:[(0,r.jsx)("button",{className:"text-green-600 hover:underline",onClick:()=>{const e="Completed"===s;o(t.id,{completed:!e,status:e?"Pending":"Completed"})},children:"Completed"===s?"Undo":"Done"}),(0,r.jsx)("button",{className:"text-red-500 hover:underline",onClick:()=>d(t.id),children:"Delete"})]})]})}var i=s(964);const l=e=>"Completed"===e?"border-green-500":"In Progress"===e?"border-yellow-400":"border-gray-300";function c(e){let{title:t,todos:s,onUpdate:n,onDelete:o}=e;const[,a]=(0,i.H)({accept:"TODO",drop:e=>{const s="Completed"===t;n(e.id,{completed:s,status:t,inProgress:"In Progress"===t})}});return(0,r.jsxs)("div",{ref:a,className:`bg-white border-t-4 ${l(t)} p-4 rounded w-full md:w-1/3 min-h-[300px] min-w-[250px] shadow-sm transition-shadow hover:shadow-md`,children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3 text-center",children:t}),(0,r.jsx)("div",{className:"space-y-3",children:s.map((e=>(0,r.jsx)(d,{todo:e,status:t,onUpdate:n,onDelete:o},e.id)))})]})}var u=s(335),m=s(537);const p=["Pending","In Progress","Completed"];function x(e){let{todos:t,onUpdate:s,onDelete:n}=e;const o=p.reduce(((e,s)=>(e[s]=t.filter((e=>function(e){return e.status?e.status:e.inProgress?"In Progress":e.completed?"Completed":"Pending"}(e)===s)),e)),{});return(0,r.jsx)(u.Q,{backend:m.t2,children:(0,r.jsx)("div",{className:"flex flex-col md:flex-row gap-4 items-start justify-center",children:p.map((e=>(0,r.jsx)(c,{title:e,todos:o[e]||[],onUpdate:s,onDelete:n},e)))})})}function h(e){let{onSubmit:t}=e;const[s,o]=(0,n.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&(t(s),o(""))},className:"bg-white border-t-4 border-blue-400 p-4 rounded w-full md:w-1/3 shadow-sm h-fit mb-5",children:[(0,r.jsx)("h2",{className:"font-semibold mb-2 text-center",children:"Add Todo"}),(0,r.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Enter todo",className:"w-full border px-3 py-2 rounded mb-3 focus:outline-none focus:ring-2 focus:ring-blue-300"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded",children:"Add Task"})]})}function f(){const[e,t]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async function(){const e=await fetch(`${o}?limit=100`);return(await e.json()).todos.map((e=>({...e,status:e.status||(e.completed?"Completed":"Pending"),inProgress:!1})))})().then(t)}),[]);return(0,r.jsxs)("div",{className:"p-4 bg-gradient-to-br from-slate-50 to-slate-200 min-h-screen flex flex-col items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-700",children:"Kanban Todo Board"}),(0,r.jsx)(h,{onSubmit:async e=>{const s=await async function(e){return(await fetch(o+"/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todo:e,completed:!1,userId:1,status:"Pending"})})).json()}(e);t((e=>[s,...e]))}}),(0,r.jsx)(x,{todos:e,onUpdate:async(e,s)=>{t((t=>t.map((t=>t.id===e?{...t,...s}:t))))},onDelete:async e=>{await async function(e){await fetch(`${o}/${e}`,{method:"DELETE"})}(e),t((t=>t.filter((t=>t.id!==e))))}})]})}}}]);
//# sourceMappingURL=4.448b398d.chunk.js.map